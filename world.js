class Room {
    constructor(map, actors) {
        this.map = map
        this.actors = actors
    }
}

class Actor {
    constructor(graphic, name, x, y) {
        this.graphic = graphic
        this.name = name
        this.x = x
        this.y = y
    }
}

var room00 = new Room([
    [ 3,3,3,3,3,3,3,3,3,3,3,3,3,3,3, ],
    [ 3,0,0,0,0,0,0,0,0,0,0,0,0,0,3, ],
    [ 3,0,0,0,0,0,0,0,0,0,0,0,0,0,3, ],
    [ 3,0,1,1,1,1,1,1,1,1,0,0,5,0,3, ],
    [ 3,0,1,0,0,1,0,0,0,1,0,0,0,0,3, ],
    [ 3,0,1,0,0,1,0,0,0,1,0,0,0,0,3, ],
    [ 3,0,1,0,0,0,0,0,0,1,0,0,0,0,3, ],
    [ 3,0,1,1,1,1,1,1,0,1,0,0,0,0,3, ],
    [ 3,0,0,0,0,0,0,0,0,0,0,0,0,0,3, ],
    [ 3,0,0,0,0,0,0,0,0,0,1,1,1,0,3, ],
    [ 3,0,0,5,0,0,0,0,0,0,0,0,1,0,3, ],
    [ 3,0,0,0,0,0,0,0,0,0,1,1,1,0,3, ],
    [ 3,0,0,0,0,0,0,0,0,0,0,0,0,0,3, ],
    [ 3,3,3,3,3,3,0,0,0,0,3,3,3,3,3, ]
], [
    new Actor("父", "father", 4, 4),
    new Actor("母", "mother", 8, 5),
]);

const room_height = room00.map.length;
const room_width = room00.map[0].length;

var room10 = new Room([
    [ 3,3,3,3,3,3,0,0,0,0,3,3,3,3,3, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,5,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,5,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,5,0,0,0,0, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,4,4,4,4,4,4,4,4,4,4,4,4,4,4, ]
], []);

var room11 = new Room([
    [ 5,5,5,5,5,5,5,5,5,5,5,5,5,5,5, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,5,0,0,0,0,0,0,0,0,5,0,0,0, ],
    [ 0,0,0,0,0,0,5,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,5,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,5,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,5,0,0, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0, ],
    [ 4,4,4,4,4,4,4,4,4,4,4,4,4,4,4, ]
], []);

var room12 = new Room([
    [ 5,0,0,0,0,5,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,5,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,5,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 0,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ]
], []);

var room22 = new Room([
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,5,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,5,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,5,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 4,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2, ],
    [ 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2, ]
], []);

var room02 = new Room([
    [ 5,5,5,5,5,5,5,5,5,5,5,5,5,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,5,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,5,0,0,2,2, ],
    [ 5,0,0,0,5,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,5,0,0,0,0,2,2, ],
    [ 5,0,5,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,5,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,0,0,0,0,0,0,0,0,2,2, ],
    [ 5,0,0,0,0,5,0,0,0,0,0,0,0,2,2, ]
], []);

/*
var room10 = new Room([
    [ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,0,0,0,0,0,0,0,0,0,0,0,0,0,1, ],
    [ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1, ]
], []);
*/

var world = [
    [room00, null,   room02],
    [room10, room11, room12],
    [null,   null,   room22],
];

const world_width = world.length;
const world_height = world.length;

var currentroom = world[world_y][world_x];
